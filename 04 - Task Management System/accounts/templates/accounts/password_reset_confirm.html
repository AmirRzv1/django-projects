{% extends "core/base.html" %}

{% block title %}Set New Password{% endblock %}

{% block content %}
<div style="max-width: 450px; margin: 100px auto; padding: 30px;
            text-align: center; background: #f7f7f7; border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08); font-family: sans-serif;">

    <h2 style="color: #222; margin-bottom: 25px;">Set a New Password</h2>

    {% if validlink %}

        <form method="post" style="margin-top: 20px;">
            {% csrf_token %}

            <div style="margin-bottom: 20px; text-align: left;">
                <label style="display: block; margin-bottom: 5px; font-weight: 500;">
                    {{ form.new_password1.label }} :
                </label>
                {{ form.new_password1 }}
                {% if form.new_password1.errors %}
                    <div style="color: red; font-size: 13px; margin-top: 5px;">
                        {{ form.new_password1.errors }}
                    </div>
                {% endif %}
            </div>

            <div style="margin-bottom: 20px; text-align: left;">
                <label style="display: block; margin-bottom: 5px; font-weight: 500;">
                    {{ form.new_password2.label }} :
                </label>
                {{ form.new_password2 }}
                {% if form.new_password2.errors %}
                    <div style="color: red; font-size: 13px; margin-top: 5px;">
                        {{ form.new_password2.errors }}
                    </div>
                {% endif %}
            </div>

            <button type="submit" style="width: 100%; padding: 12px 0;
                    background-color: #4CAF50; color: white; border: none;
                    border-radius: 6px; font-size: 16px; font-weight: 500;
                    cursor: pointer; transition: background 0.3s;">
                Change Password
            </button>
        </form>

    {% else %}

        <div style="margin-top: 30px; color: #555;">
            <p>The password reset link is invalid or has expired.</p>
            <a href="{% url 'accounts:password_reset' %}"
               style="display: inline-block; margin-top: 15px; padding: 10px 20px;
                      background-color: #4CAF50; color: #fff; text-decoration: none;
                      border-radius: 6px; font-weight: 500;">
                Request a New Password Reset
            </a>
        </div>

    {% endif %}

</div>
{% endblock %}